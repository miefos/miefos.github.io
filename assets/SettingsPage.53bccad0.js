import{Q as y}from"./QPage.9dceb36c.js";import{u as f}from"./settings-store.927dd77c.js";import{b as _}from"./QBtn.59438737.js";import{r as v,M as d,U as p,a1 as e,f as u,R as b,P as w,Q as h,F as x,c as S,a2 as q,N as k,O as C,X as L}from"./index.232bb102.js";import"./render.d7aeaab0.js";const N=e("h4",{class:"q-mb-sm"},"Import, export, clear",-1),O={class:"",style:{width:"50%"}},B=e("div",{class:"",style:{"font-size":"18px"}},[h(" This section you to export everything that you have created here, namely, the whole local storage of this application, import it later on this or other device, and to delete all your work here."),e("br")],-1),j={class:""},E=e("h5",{class:"q-mb-sm q-mt-md"},"Export",-1),I=e("h5",{class:"q-mb-sm q-mt-md"},"Import",-1),P=e("div",{class:"text-red-5"},"When you import, all your data will be overwritten!",-1),R={key:0},U={class:""},$=e("h5",{class:"q-mb-sm q-mt-md"},"Clear",-1),D=e("br",null,null,-1),F={__name:"ExportImportLocalStorage",setup(g){const s=v(null),c=()=>{const a=n(),o=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),t=URL.createObjectURL(o),l=document.createElement("a");l.href=t,l.download="the_calculator_export.json",l.click(),URL.revokeObjectURL(t)},m=a=>{if(!window.confirm("Are you sure you want to import and overwrite your data?"))return!1;const o=a.target.files[0];if(o){const t=new FileReader;t.onload=()=>{const l=JSON.parse(t.result);r(l),s.value=JSON.stringify(l,null,2)},t.readAsText(o)}},r=a=>{Object.entries(a).forEach(([o,t])=>{localStorage.setItem(o,t)})},n=()=>Object.keys(localStorage).reduce((o,t)=>(o[t]=localStorage.getItem(t),o),{}),i=()=>{window.confirm("Are you sure you want to delete?")&&(localStorage.clear(),s.value=null)};return(a,o)=>(d(),p(x,null,[N,e("div",O,[B,e("div",j,[E,u(_,{onClick:c,rounded:"",color:"primary",label:"Export Data",class:"q-mx-md q-px-lg q-ml-auto",style:{cursor:"pointer"}})]),e("div",null,[I,P,e("input",{type:"file",onChange:m},null,32),s.value?(d(),p("div",R,[e("pre",null,b(s.value.replace(/\\"/g,'"')),1)])):w("",!0)]),e("div",U,[$,h(" This will delete all your data from this website. "),D,u(_,{onClick:i,rounded:"",color:"red",label:"Delete my data",class:"q-mx-md q-px-lg q-ml-auto",style:{cursor:"pointer"}})])])],64))}};const Q=e("h2",null,"Settings",-1),T={class:"settings-table"},V=e("td",null,"Fuel price",-1),A=["value"],G={__name:"SettingsPage",setup(g){const s=f(),c=S(()=>s.settings);return q(()=>s.get()),(m,r)=>(d(),k(y,{class:"q-ma-md"},{default:C(()=>{var n;return[Q,e("table",T,[e("tr",null,[V,e("td",null,[e("input",{onInput:r[0]||(r[0]=i=>L(s).update("fuelPrice",i.target.value)),style:{border:"0",width:"100%",margin:"0",padding:"10px"},type:"number",value:((n=c.value)==null?void 0:n.fuelPrice)||0},null,40,A)])])]),u(F)]}),_:1}))}};export{G as default};
